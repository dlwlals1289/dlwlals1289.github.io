<!-- <!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Medibot</title>
  <link rel="stylesheet" href="chat.css">
</head>

<body>
  <div class="chat-container">
    <header>
      <h1>메디봇</h1>
    </header>

    <div class="chat-window" id="chat-window">
    </div>

    <div class="input-area">
      <input type="text" id="message-input" placeholder="메시지를 입력하세요">
      <button id="send-button">전송</button>
    </div>
  </div>
  <script src="chat.js"></script>
</body>
<script>
  const chatWindow = document.getElementById('chat-window');
    const messageInput = document.getElementById('message-input');
    const sendButton = document.getElementById('send-button');

    sendButton.addEventListener('click', sendMessage);

    function sendMessage() {
        const message = messageInput.value;
        if (message.trim() !== '') {
        displayMessage(message, 'user');
        sendMessageToServer(message);
        messageInput.value = '';
        }
    }

    function sendMessageToServer(message) {
        const url = 'http://localhost:8080/question'; // 스프링 서버의 엔드포인트 URL로 변경해주세요

        fetch(url, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({ message }),
        })
        .then(response => response.json())
        .then(data => {
            let responseMessage = data.message;
            if (data === 0) {
            responseMessage = "부작용에 대해서 문의하신 것 맞으신가요?";
            }
            displayMessage(responseMessage, 'bot');
        })
        .catch(error => {
            console.error('Error:', error);
        });
    }

    function displayMessage(message, sender) {
        const messageElement = document.createElement('div');
        messageElement.classList.add('message');
        messageElement.classList.add(sender + '-message');

        const messageContent = document.createElement('p');
        messageContent.textContent = message;
        messageElement.appendChild(messageContent);

        if (sender === 'user') {
        const messageLength = message.length;
        const userBubbleSize = Math.min(300, messageLength * 20);
        messageElement.style.width = `${userBubbleSize}px`;
        } else if (sender === 'bot') {
        const messageLength = message.length;
        const botBubbleSize = Math.min(300, messageLength * 20);
        messageElement.style.width = `${botBubbleSize}px`;
        }

        chatWindow.appendChild(messageElement);
        chatWindow.scrollTop = chatWindow.scrollHeight;
    }
</script>

</html> -->
